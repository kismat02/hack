# Описание состава решения

__Запуск Докер контейнера с эндпоинтом для поиска теримналов для объезда и поиска оптимального маршрута__
```powershell
docker build -t hack_routes .
docker run -d --name hack_routes_container -p 8888:8888 hack_routes
```
__Notebooks:__
- baseline.ipynb - ноутбук для визуализации способа подбора оптимального количества точек на каждый день (с учетом бизнес-требований);
- final_check.ipynb - ноутбук для проверки соответствия полученных результатов указанным в ТЗ бизнес-требованиям. Дополнительно в ноутбук включена визуализация затрат во времени и примеры визуализации маршрутов.


__Code:__
1. prepare_data.py - функции подготовки входных данных для последующего анализа;
2. find_terminals_to_cash_out.py - функции поиска оптимального количества терминалов для выполнения бизнес-требований;
3. get_routes.py - функции поиска оптимальных маршрутов для заданного количества автомобилей;
4. calculate_costs.py - функции расчета затрат для получения финальных результатов эффективности;
5.  schedule_report.py - функции для получения расписаний объезда точек бронеавтомобилями. Дополнительно включает в себе функцию постпроцессинга результатов для получения более равномерной нагрузки на автопарк;
6. create_report.py - функционал получения итого отчета по результатам оптимизации маршрутов движения бронеавтомобилей в формате, указанном в ТЗ;
7. app.py - реализация эндпоинта API на FastAPI.

__Requirements:__
- requirements.txt - содержит версии библиотек, требуемые для запуска кода решения 

__Solution:__
- Для запуска решения требуется подготовленная среда выполнения кода (язык Python). Для подготовки среды требуется установка версий библиотек из файла requirements.txt, либо запуск Docker контейнера с решением;
- Запуск процесса оптимизации происходит в файле creare_report.py. Во время работы скрипта происходит получение оптимальных параметров, маршрутов движения, вычисление метрик качества решения. Указанные параметры сохраняются в итоговый файл решения _report.xlsx_;
- В случае запуска контейнера, требуется обращение к эндпоинту API /find_optimal_routes (API работает на 8888 порту).

__Initial files:__
- terminal_data_hackathon v4.xlsx (предполагается расположение в папке data);
- times v4.csv (предполагается расположение в папке data).

__Output files:__
- report.xlsx (предполагается его сохранение в корневую папку решения по итогу работы скрипт, либо выдача результирующего файла при обращении к эндпоинту)

